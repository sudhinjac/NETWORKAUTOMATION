wget https://downloads.apache.org/kafka/3.7.0/kafka_2.13-3.7.0.tgz

tar -xzf kafka_2.13-3.7.0.tgz
mv kafka_2.13-3.7.0 kafka
cd kafka
config/kraft/server.properties
# Node identity
node.id=1
process.roles=broker,controller

# Listeners
listeners=PLAINTEXT://0.0.0.0:9092,CONTROLLER://0.0.0.0:9093
controller.listener.names=CONTROLLER
inter.broker.listener.name=PLAINTEXT

# Controller quorum (single node)
controller.quorum.voters=1@localhost:9093

# Storage directory
log.dirs=/tmp/kraft-data

# Basic settings
num.partitions=1
offsets.topic.replication.factor=1
transaction.state.log.replication.factor=1
transaction.state.log.min.isr=1


KAFKA_CLUSTER_ID=$(./bin/kafka-storage.sh random-uuid)
echo $KAFKA_CLUSTER_ID


./bin/kafka-storage.sh format \
  -t $KAFKA_CLUSTER_ID \
  -c config/kraft/server.properties


./bin/kafka-server-start.sh config/kraft/server.properties

Started NetworkTrafficServerConnector
Kafka Server started
Controller elected

./bin/kafka-topics.sh --list --bootstrap-server localhost:9092

./bin/kafka-console-producer.sh --topic test-topic --bootstrap-server localhost:9092


./bin/kafka-console-consumer.sh \
  --topic test-topic \
  --from-beginning \
  --bootstrap-server localhost:9092

How to make it autorun
@@@@@@@@@@@@@@@@@@@@@@@@@@
sudo mv ~/kafka /opt/kafka
/opt/kafka
sudo useradd -r -M -s /bin/false kafka
sudo chown -R kafka:kafka /opt/kafka
sudo nano /etc/systemd/system/kafka.service

[Unit]
Description=Apache Kafka - KRaft Mode
After=network.target

[Service]
Type=simple
User=kafka
Group=kafka
ExecStart=/opt/kafka/bin/kafka-server-start.sh /opt/kafka/config/kraft/server.properties
ExecStop=/opt/kafka/bin/kafka-server-stop.sh
Restart=on-failure
RestartSec=5

[Install]
WantedBy=multi-user.target

sudo systemctl daemon-reload
/etc/systemd/system/multi-user.target.wants/kafka.service
sudo systemctl start kafka
sudo journalctl -u kafka -f
sudo mkdir -p /opt
ls /opt

~/kafka/kafka
sudo mv ~/kafka/kafka /opt/kafka
sudo useradd -r -M -s /bin/false kafka
sudo chown -R kafka:kafka /opt/kafka
/opt/kafka/config/kraft/server.properties
/opt/kafka/config/kraft/server.properties
cd /opt/kafka
sudo ./bin/kafka-storage.sh format -t $(./bin/kafka-storage.sh random-uuid) \
  -c config/kraft/server.properties
/tmp/kraft-data/meta.properties
sudo nano /etc/systemd/system/kafka.service

[Unit]
Description=Apache Kafka - KRaft Mode
After=network.target

[Service]
Type=simple
User=kafka
Group=kafka
ExecStart=/opt/kafka/bin/kafka-server-start.sh /opt/kafka/config/kraft/server.properties
ExecStop=/opt/kafka/bin/kafka-server-stop.sh
Restart=on-failure
RestartSec=5

[Install]
WantedBy=multi-user.target


sudo systemctl daemon-reload
sudo systemctl enable kafka
sudo systemctl start kafka
sudo systemctl status kafka
sudo journalctl -u kafka -n 50














